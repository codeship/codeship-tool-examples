adddocker:
  build:
    image: add_docker_test
    dockerfile_path: Dockerfile
    path: ./14.add_docker
  add_docker: true
demodockerfile:
  build:
    image: demodockerfile
    dockerfile_path: Dockerfile
    path: ./1.dockerfile/
demodockerfiledockercompose:
  build: ./1.dockerfile
demohub:
  image: ruby:2.2.0
demobusy:
  image: busybox
demo:
  build:
    image: myapp
    dockerfile_path: Dockerfile
    path: ./2.redis/
  links:
    - redis
redis:
  image: redis:2.8.19
demo2:
  build:
    image: myapp2
    dockerfile_path: Dockerfile
    path: ./3.redis-postgres/
  links:
    - redis
    - postgres
postgres:
   image: postgres:9.3.6
compiledemo:
  build:
    path: ./8.deployment-container/
    dockerfile_path: Dockerfile.build
    image: compiledemo
  volumes:
    - ./8.deployment-container/tmp:/data
deploy:
  build:
    path: ./8.deployment-container/
    dockerfile_path: Dockerfile
    image: deploydemo
  volumes_from:
    - compiledemo
builder:
  build:
    path: ./8.deployment-container/
    dockerfile_path: Dockerfile.builder
  add_docker: true
  volumes_from:
    - compiledemo
app1:
  image: testimage1
app2:
  build:
    path: ./8.deployment-container/
    dockerfile_path: Dockerfile.app2
